<!DOCTYPE html>
<html lang="vi">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Thêm sản phẩm mới</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Nunito+Sans:wght@400;600;700;800&display=swap" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" rel="stylesheet">
  
  <!-- CSS chung (giả sử bạn đã có file riêng) -->
  <link href="../../assets/css/admin/dashboard.css" rel="stylesheet">
  <link href="../../assets/css/admin/product.css" rel="stylesheet">
  
  <script src="../../assets/js/main.js" defer></script>
  <style>
    /* ===== FORM LAYOUT ===== */
    .form-row {
      display: flex;
      gap: 20px;
      margin-bottom: 16px;
    }

    .form-row .form-group {
      flex: 1;
    }

    /* ===== IMAGE UPLOAD ===== */
    .image-upload-group {
      margin-bottom: 28px;
    }

    .image-preview-container {
      position: relative;
      width: 180px;
      height: 180px;
      border-radius: 16px;
      overflow: hidden;
      border: 2px dashed #ccc;
      background: #f9f9f9;
      cursor: pointer;
      transition: all 0.3s ease;
      margin-bottom: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-direction: column;
      color: #aaa;
    }

    .image-preview-container:hover {
      border-color: #B43F3F;
      background: #fff5f5;
    }

    .image-preview-container .product-image-preview {
      width: 100%;
      height: 100%;
      object-fit: cover;
      transition: transform 0.3s ease;
    }

    .image-preview-container:hover .product-image-preview {
      transform: scale(1.05);
    }

    .image-upload-overlay {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(180, 63, 63, 0.9);
      color: white;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      opacity: 0;
      transition: opacity 0.3s ease;
      pointer-events: none;
    }

    .image-preview-container:hover .image-upload-overlay {
      opacity: 1;
    }

    .image-upload-overlay i {
      font-size: 28px;
      margin-bottom: 8px;
    }

    .image-upload-overlay p {
      font-size: 14px;
      font-weight: 600;
    }

    .image-input {
      display: none;
    }

    .form-help {
      color: #6c757d;
      font-size: 13px;
      margin-top: 8px;
    }

    /* Placeholder khi chưa có ảnh */
    .image-placeholder {
      text-align: center;
    }

    .image-placeholder i {
      font-size: 40px;
      color: #ddd;
      margin-bottom: 8px;
    }

    .image-placeholder p {
      font-size: 14px;
      color: #999;
    }

    /* ===== FORM ENHANCEMENT ===== */
    .product-add-form {
      display: flex;
      flex-direction: column;
      gap: 20px;
    }

    .product-add-form .form-group label {
      font-weight: 600;
      color: #1a1a1a;
      margin-bottom: 8px;
      display: block;
    }

    .product-add-form .form-group input,
    .product-add-form .form-group select,
    .product-add-form .form-group textarea {
      padding: 12px 16px;
      border: 1.5px solid #e0e0e0;
      border-radius: 10px;
      font-size: 15px;
      transition: all 0.2s ease;
      background: #fff;
      width: 100%;
    }

    .product-add-form .form-group input:focus,
    .product-add-form .form-group select:focus,
    .product-add-form .form-group textarea:focus {
      border-color: #B43F3F;
      box-shadow: 0 0 0 3px rgba(180, 63, 63, 0.1);
      outline: none;
    }

    .product-add-form textarea {
      resize: vertical;
      min-height: 100px;
    }

    /* ===== BUTTONS ===== */
    .form-actions {
      display: flex;
      justify-content: flex-end;
      gap: 12px;
      margin-top: 20px;
      padding-top: 20px;
      border-top: 1px solid #eee;
    }

    .btn {
      padding: 12px 24px;
      border: none;
      border-radius: 10px;
      font-size: 15px;
      font-weight: 600;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      gap: 8px;
      transition: all 0.3s ease;
      text-decoration: none;
    }

    .btn-primary {
      background: linear-gradient(135deg, #B43F3F, #9c3636);
      color: #fff;
      box-shadow: 0 4px 12px rgba(180, 63, 63, 0.3);
    }

    .btn-primary:hover {
      background: linear-gradient(135deg, #9c3636, #8a3030);
      transform: translateY(-2px);
      box-shadow: 0 6px 16px rgba(180, 63, 63, 0.4);
    }

    .btn-secondary {
      background: #f8f9fa;
      color: #495057;
      border: 1.5px solid #dee2e6;
    }

    .btn-secondary:hover {
      background: #e9ecef;
      border-color: #adb5bd;
      transform: translateY(-1px);
    }

    /* ===== FORM CONTAINER ===== */
    .form-container {
  background: #fff;
  padding: 40px;
  border-radius: 16px;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.06);
  width: 100%;           /* Full width */
  max-width: none;       /* Bỏ giới hạn */
  margin: 0;             /* Bỏ căn giữa */
  border: 1px solid #f1f5f9;
}

    /* ===== RESPONSIVE ===== */
    @media (max-width: 768px) {
      .form-row {
        flex-direction: column;
      }
      
	a      .image-preview-container {
        width: 140px;
        height: 140px;
      }
      
      .form-container {
        padding: 24px;
      }
    }
  </style>
</head>

<body>
  <!-- SIDEBAR -->
  <aside class="side-bar">
    <div class="logo">
      <h2><a href="/admin/dashboard.html">LEGO STORE</a></h2>
    </div>
    <nav class="menu">
     <ul class="system">
                <li > <a href="/admin/dashboard.html"><i class="fa-solid fa-house"></i>Tổng quan</a></li>
                <li><a href="/admin/messages.html"><i class="fa-solid fa-envelope"></i>Tin nhắn <span class="message">2</span></a></li>
                <li><a href="/admin/products/products.html" class="active"><i class="fa-solid fa-box"></i>Sản phẩm</a></li>
                <li><a href="/admin/product-types/list.html"><i class="fa-solid fa-tags"></i>Danh mục</a></li>
                <li><a href="/admin/orders/orders.html"><i class="fa-solid fa-receipt"></i>Đơn hàng</a></li>
                <li><a href="/admin/imports/imports.html"><i class="fa-solid fa-truck"></i>Nhập hàng</a></li>
                <li><a href="/admin/imports/inventorys.html"><i class="fa-solid fa-warehouse"></i>Tồn kho</a></li>
                <li><a href="/admin/imports/pricing.html"><i class="fa-solid fa-coins"></i>Giá bán</a></li>
                <li><a href="/admin/customers/customers.html"><i class="fa-solid fa-users"></i>Khách hàng</a></li>
            </ul>

            <ul class="support">
                <li><a href="/admin/login.html"><i class="fa-solid fa-right-from-bracket"></i>Đăng xuất</a></li>
            </ul>
    </nav>
  </aside>

  <!-- MAIN CONTENT -->
  <div class="main-content">
    <header class="admin-header">
      <h1>Thêm sản phẩm mới</h1>
      <div class="admin-info">
        <span class="search-bar">
          <button><i class="fa-solid fa-magnifying-glass"></i></button>
          <input placeholder="Tìm kiếm...">
        </span>
        <span class="info">
          <i class="fa-solid fa-bell"><span class="noti">3</span></i>
          <img src="/assets/images/avt.png" alt="Admin" />
          <p class="nametag">Việt Hoàng</p>
          <i class="fa-solid fa-chevron-down"></i>
        </span>
      </div>
    </header>

    <section class="content">
      <div class="form-container">
        <form class="product-add-form">
          <!-- Upload ảnh -->
          <div class="form-group image-upload-group">
            <label>Hình ảnh sản phẩm</label>
            <div class="image-preview-container" onclick="document.getElementById('productImage').click()">
              <div class="image-placeholder">
                <i class="fa-solid fa-image"></i>
                <p>Click để tải ảnh</p>
              </div>
              <img src="" alt="" class="product-image-preview" id="productImagePreview" style="display: none;">
              <div class="image-upload-overlay">
                <i class="fa-solid fa-camera"></i>
                <p>Thay đổi ảnh</p>
              </div>
            </div>
            <input type="file" id="productImage" accept="image/*" class="image-input" onchange="previewImage(event)">
            <small class="form-help">Định dạng: JPG, PNG, WebP. Kích thước tối đa: 2MB</small>
          </div>

          <div class="form-row">
            <div class="form-group">
              <label for="newProductName">Tên sản phẩm</label>
              <input type="text" id="newProductName" placeholder="Nhập tên sản phẩm..." required>
            </div>
            <div class="form-group">
              <label for="newProductSKU">Mã sản phẩm (SKU)</label>
              <input type="text" id="newProductSKU" placeholder="VD: 75257" required>
            </div>
          </div>

          <div class="form-row">
            <div class="form-group">
              <label for="newProductCategory">Danh mục</label>
              <select id="newProductCategory" required>
                <option value="" disabled selected>Chọn danh mục</option>
                <option value="tau-vu-tru">Tàu vũ trụ</option>
                <option value="xe-o-to">Xe ô tô mô hình</option>
                <option value="robot">Robot chiến binh</option>
                <option value="thanh-pho">Thành phố</option>
                <option value="kien-truc">Kiến trúc</option>
                <option value="ninjago">Ninjago</option>
              </select>
            </div>
            <div class="form-group">
              <label for="newProductStock">Tồn kho</label>
              <input type="number" id="newProductStock" value="0" min="0" required>
            </div>
          </div>

          <div class="form-group">
            <label for="newProductPrice">Giá bán</label>
            <input type="text" id="newProductPrice" placeholder="VD: 1.250.000₫" required>
          </div>

          <div class="form-group">
            <label for="newProductDescription">Mô tả sản phẩm</label>
            <textarea id="newProductDescription" rows="5" placeholder="Mô tả chi tiết sản phẩm..."></textarea>
          </div>

          <div class="form-row">
            <div class="form-group">
              <label for="newProductStatus">Trạng thái</label>
              <select id="newProductStatus">
                <option value="active" selected>Đang bán</option>
                <option value="hidden">Ẩn</option>
              </select>
            </div>
            <div class="form-group">
              <label for="newProductFeatured">Nổi bật</label>
              <select id="newProductFeatured">
                <option value="0" selected>Bình thường</option>
                <option value="1">Nổi bật</option>
              </select>
            </div>
          </div>

          <div class="form-actions">
            <button type="submit" class="btn btn-primary">
              <i class="fa-solid fa-plus"></i> Thêm sản phẩm
            </button>
            <a href="/admin/products/products.html">
              <button type="button" class="btn btn-secondary">
                <i class="fa-solid fa-arrow-left"></i> Hủy
              </button>
            </a>
          </div>
        </form>
      </div>
    </section>
  </div>

  <!-- JS: Preview ảnh -->
  <script>
    function previewImage(event) {
      const file = event.target.files[0];
      const preview = document.getElementById('productImagePreview');
      const placeholder = preview.previousElementSibling;
      
      if (file) {
        const reader = new FileReader();
        reader.onload = function(e) {
          preview.src = e.target.result;
          preview.style.display = 'block';
          placeholder.style.display = 'none';
        };
        reader.readAsDataURL(file);
      }
    }

    // Click vào vùng ảnh để mở file input
    document.querySelector('.image-preview-container').addEventListener('click', function() {
      document.getElementById('productImage').click();
    });
  </script>
</body>

</html>