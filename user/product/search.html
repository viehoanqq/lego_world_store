<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Tìm kiếm sản phẩm LEGO - LEGO World Store</title>
  <link rel="stylesheet" href="../../assets/css/index.css">
  <link rel="stylesheet" href="../../assets/css/user/product.css">
  <link rel="stylesheet" href="../../assets/css/components/header.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
  
</head>
<body>

  <!-- Header -->
  <header>
    <div id="header"></div>
  </header>

  <!-- ========== BREADCRUMB ========== -->
  <div class="breadcrumb">
    <a href="../../index.html"><i class="fa-solid fa-house"></i> Trang chủ</a>
    <span>/</span>
    <strong>Tìm kiếm sản phẩm</strong>
  </div>

  <!-- ========== SEARCH SECTION ========== -->
  <div class="search-container">
    
    <!-- Search Header -->
    <div class="search-header">
      <h1><i class="fa-solid fa-magnifying-glass"></i> Tìm kiếm sản phẩm LEGO</h1>
      <p>Sử dụng bộ lọc bên dưới để tìm kiếm sản phẩm phù hợp với bạn</p>
      
      <!-- Advanced Search Form -->
      <form class="search-form" id="searchForm">
        
        <!-- Row 1: Keyword -->
        <div class="search-row">
          <div class="search-input-group full-width">
            <label><i class="fa-solid fa-search"></i> Từ khóa tìm kiếm</label>
            <input type="text" 
                   id="keyword" 
                   name="keyword" 
                   placeholder="Nhập tên sản phẩm (VD: Ferrari, Technic, City...)"
                   value="Ferrari">
          </div>
        </div>

        <!-- Row 2: Category + Age -->
        <div class="search-row">
          <div class="search-input-group">
            <label><i class="fa-solid fa-layer-group"></i> Loại sản phẩm</label>
            <select id="category" name="category">
              <option value="">-- Tất cả loại --</option>
              <option value="city">LEGO City</option>
              <option value="technic" selected>LEGO Technic</option>
              <option value="friends">LEGO Friends</option>
              <option value="starwars">LEGO Star Wars</option>
              <option value="creator">LEGO Creator</option>
              <option value="ninjago">LEGO Ninjago</option>
              <option value="marvel">LEGO Marvel</option>
              <option value="harry">LEGO Harry Potter</option>
              <option value="disney">LEGO Disney</option>
              <option value="architecture">LEGO Architecture</option>
            </select>
          </div>

          <div class="search-input-group">
            <label><i class="fa-solid fa-child"></i> Độ tuổi</label>
            <select id="age" name="age">
              <option value="">-- Tất cả độ tuổi --</option>
              <option value="4">4+</option>
              <option value="6">6+</option>
              <option value="8">8+</option>
              <option value="10">10+</option>
              <option value="12">12+</option>
              <option value="16">16+</option>
              <option value="18">18+</option>
            </select>
          </div>
        </div>

        <!-- Row 3: Price Range -->
        <div class="search-row">
          <div class="search-input-group">
            <label><i class="fa-solid fa-tags"></i> Giá từ (đ)</label>
            <input type="number" 
                   id="priceFrom" 
                   name="priceFrom" 
                   placeholder="0" 
                   min="0"
                   step="100000">
          </div>

          <div class="search-input-group">
            <label><i class="fa-solid fa-tags"></i> Giá đến (đ)</label>
            <input type="number" 
                   id="priceTo" 
                   name="priceTo" 
                   placeholder="50.000.000" 
                   min="0"
                   step="100000">
          </div>
        </div>

        <!-- Row 4: Pieces Range -->
        <div class="search-row">
          <div class="search-input-group">
            <label><i class="fa-solid fa-puzzle-piece"></i> Số mảnh ghép</label>
            <select id="pieces" name="pieces">
              <option value="">-- Tất cả --</option>
              <option value="0-100">Dưới 100 mảnh</option>
              <option value="100-500">100 - 500 mảnh</option>
              <option value="500-1000">500 - 1000 mảnh</option>
              <option value="1000-2000">1000 - 2000 mảnh</option>
              <option value="2000+">Trên 2000 mảnh</option>
            </select>
          </div>

          <div class="search-input-group">
            <label><i class="fa-solid fa-box"></i> Tình trạng</label>
            <select id="status" name="status">
              <option value="">-- Tất cả --</option>
              <option value="instock" selected>Còn hàng</option>
              <option value="preorder">Đặt trước</option>
              <option value="outstock">Hết hàng</option>
            </select>
          </div>
        </div>

        <!-- Search Buttons -->
        <div class="search-buttons">
          <button type="submit" class="btn-search">
            <i class="fa-solid fa-magnifying-glass"></i> TÌM KIẾM
          </button>
          <button type="reset" class="btn-reset">
            <i class="fa-solid fa-rotate-right"></i> ĐẶT LẠI
          </button>
        </div>

      </form>
    </div>

    <!-- Search Results Info -->
    <div class="search-result-info">
      <div class="result-text">
        <i class="fa-solid fa-circle-check"></i>
        Tìm thấy <strong class="result-count">48</strong> sản phẩm cho từ khóa 
        <span class="search-keyword">"Ferrari"</span>
        <span class="filter-tags">
          <span class="tag">LEGO Technic <i class="fa-solid fa-xmark"></i></span>
          <span class="tag">Còn hàng <i class="fa-solid fa-xmark"></i></span>
        </span>
      </div>
      
      <div class="sort-options">
        <label for="sortResults"><i class="fa-solid fa-arrow-down-short-wide"></i> Sắp xếp:</label>
        <select id="sortResults">
          <option value="newest">Mới nhất</option>
          <option value="popular">Phổ biến nhất</option>
          <option value="price-asc">Giá: Thấp đến cao</option>
          <option value="price-desc">Giá: Cao đến thấp</option>
          <option value="name-asc">Tên: A-Z</option>
          <option value="name-desc">Tên: Z-A</option>
        </select>
      </div>
    </div>

    <!-- Search Results Grid -->
    <div class="search-results">
      <div class="product-grid">
        
        <!-- Result Product 1 -->
        <div class="product-card">
          <span class="product-badge new">Mới</span>
          <div class="product-image">
            <img src="https://images.unsplash.com/photo-1581235720704-06d3acfcb36f?w=400&h=400&fit=crop" alt="Ferrari SF-24 F1">
          </div>
          <div class="product-info">
            <div class="product-category">LEGO Technic</div>
            <h3 class="product-name">Đồ chơi lắp ráp xe Ferrari SF-24 F1</h3>
            <div class="product-meta">
              <span><i class="fa-solid fa-child"></i> 18+</span>
              <span><i class="fa-solid fa-puzzle-piece"></i> 1361</span>
            </div>
            <div class="product-price">
              3.999.000đ
              <span class="product-price-old">4.999.000đ</span>
            </div>
            <div class="product-actions">
              <button class="btn-add-cart"><i class="fa-solid fa-cart-plus"></i> Thêm giỏ</button>
              <a href="detail.html" class="btn-view-detail"><i class="fa-solid fa-eye"></i></a>
            </div>
          </div>
        </div>

        <!-- Result Product 2 -->
        <div class="product-card">
          <span class="product-badge">-20%</span>
          <div class="product-image">
            <img src="https://images.unsplash.com/photo-1587654780291-39c9404d746b?w=400&h=400&fit=crop" alt="Ferrari 488 GTE">
          </div>
          <div class="product-info">
            <div class="product-category">LEGO Technic</div>
            <h3 class="product-name">Ferrari 488 GTE AF Corse #51</h3>
            <div class="product-meta">
              <span><i class="fa-solid fa-child"></i> 18+</span>
              <span><i class="fa-solid fa-puzzle-piece"></i> 1677</span>
            </div>
            <div class="product-price">
              3.599.000đ
              <span class="product-price-old">4.499.000đ</span>
            </div>
            <div class="product-actions">
              <button class="btn-add-cart"><i class="fa-solid fa-cart-plus"></i> Thêm giỏ</button>
              <a href="detail.html" class="btn-view-detail"><i class="fa-solid fa-eye"></i></a>
            </div>
          </div>
        </div>

        <!-- Result Product 3 -->
        <div class="product-card">
          <div class="product-image">
            <img src="https://images.unsplash.com/photo-1515630278258-407f66498911?w=400&h=400&fit=crop" alt="Ferrari Daytona SP3">
          </div>
          <div class="product-info">
            <div class="product-category">LEGO Technic</div>
            <h3 class="product-name">Ferrari Daytona SP3</h3>
            <div class="product-meta">
              <span><i class="fa-solid fa-child"></i> 18+</span>
              <span><i class="fa-solid fa-puzzle-piece"></i> 3778</span>
            </div>
            <div class="product-price">8.999.000đ</div>
            <div class="product-actions">
              <button class="btn-add-cart"><i class="fa-solid fa-cart-plus"></i> Thêm giỏ</button>
              <a href="detail.html" class="btn-view-detail"><i class="fa-solid fa-eye"></i></a>
            </div>
          </div>
        </div>

        <!-- Result Product 4 -->
        <div class="product-card">
          <span class="product-badge">-15%</span>
          <div class="product-image">
            <img src="https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=400&h=400&fit=crop" alt="Ferrari F8 Tributo">
          </div>
          <div class="product-info">
            <div class="product-category">LEGO Speed Champions</div>
            <h3 class="product-name">Ferrari F8 Tributo</h3>
            <div class="product-meta">
              <span><i class="fa-solid fa-child"></i> 8+</span>
              <span><i class="fa-solid fa-puzzle-piece"></i> 275</span>
            </div>
            <div class="product-price">
              679.000đ
              <span class="product-price-old">799.000đ</span>
            </div>
            <div class="product-actions">
              <button class="btn-add-cart"><i class="fa-solid fa-cart-plus"></i> Thêm giỏ</button>
              <a href="detail.html" class="btn-view-detail"><i class="fa-solid fa-eye"></i></a>
            </div>
          </div>
        </div>

        <!-- Result Product 5 -->
        <div class="product-card">
          <span class="product-badge new">Mới</span>
          <div class="product-image">
            <img src="https://images.unsplash.com/photo-1572635196237-14b3f281503f?w=400&h=400&fit=crop" alt="Ferrari 812 Competizione">
          </div>
          <div class="product-info">
            <div class="product-category">LEGO Speed Champions</div>
            <h3 class="product-name">Ferrari 812 Competizione</h3>
            <div class="product-meta">
              <span><i class="fa-solid fa-child"></i> 9+</span>
              <span><i class="fa-solid fa-puzzle-piece"></i> 261</span>
            </div>
            <div class="product-price">599.000đ</div>
            <div class="product-actions">
              <button class="btn-add-cart"><i class="fa-solid fa-cart-plus"></i> Thêm giỏ</button>
              <a href="detail.html" class="btn-view-detail"><i class="fa-solid fa-eye"></i></a>
            </div>
          </div>
        </div>

        <!-- Result Product 6 -->
        <div class="product-card">
          <div class="product-image">
            <img src="https://images.unsplash.com/photo-1566821582776-92b13ab46bb4?w=400&h=400&fit=crop" alt="Scuderia Ferrari Garage">
          </div>
          <div class="product-info">
            <div class="product-category">LEGO Speed Champions</div>
            <h3 class="product-name">Scuderia Ferrari F1 Race Garage</h3>
            <div class="product-meta">
              <span><i class="fa-solid fa-child"></i> 8+</span>
              <span><i class="fa-solid fa-puzzle-piece"></i> 843</span>
            </div>
            <div class="product-price">1.799.000đ</div>
            <div class="product-actions">
              <button class="btn-add-cart"><i class="fa-solid fa-cart-plus"></i> Thêm giỏ</button>
              <a href="detail.html" class="btn-view-detail"><i class="fa-solid fa-eye"></i></a>
            </div>
          </div>
        </div>

        <!-- Result Product 7 -->
        <div class="product-card">
          <span class="product-badge">-25%</span>
          <div class="product-image">
            <img src="https://images.unsplash.com/photo-1596461404969-9ae70f2830c1?w=400&h=400&fit=crop" alt="Ferrari F40">
          </div>
          <div class="product-info">
            <div class="product-category">LEGO Creator Expert</div>
            <h3 class="product-name">Ferrari F40</h3>
            <div class="product-meta">
              <span><i class="fa-solid fa-child"></i> 16+</span>
              <span><i class="fa-solid fa-puzzle-piece"></i> 1158</span>
            </div>
            <div class="product-price">
              2.249.000đ
              <span class="product-price-old">2.999.000đ</span>
            </div>
            <div class="product-actions">
              <button class="btn-add-cart"><i class="fa-solid fa-cart-plus"></i> Thêm giỏ</button>
              <a href="detail.html" class="btn-view-detail"><i class="fa-solid fa-eye"></i></a>
            </div>
          </div>
        </div>

        <!-- Result Product 8 -->
        <div class="product-card">
          <div class="product-image">
            <img src="https://images.unsplash.com/photo-1531297484001-80022131f5a1?w=400&h=400&fit=crop" alt="Ferrari 296 GTS">
          </div>
          <div class="product-info">
            <div class="product-category">LEGO Speed Champions</div>
            <h3 class="product-name">Ferrari 296 GTS</h3>
            <div class="product-meta">
              <span><i class="fa-solid fa-child"></i> 9+</span>
              <span><i class="fa-solid fa-puzzle-piece"></i> 217</span>
            </div>
            <div class="product-price">549.000đ</div>
            <div class="product-actions">
              <button class="btn-add-cart"><i class="fa-solid fa-cart-plus"></i> Thêm giỏ</button>
              <a href="detail.html" class="btn-view-detail"><i class="fa-solid fa-eye"></i></a>
            </div>
          </div>
        </div>

      </div>

      <!-- Pagination -->
      <div class="pagination">
        <a href="#" class="disabled"><i class="fa-solid fa-angles-left"></i></a>
        <a href="#" class="disabled"><i class="fa-solid fa-angle-left"></i></a>
        <span class="active">1</span>
        <a href="#">2</a>
        <a href="#">3</a>
        <a href="#">4</a>
        <span>...</span>
        <a href="#">12</a>
        <a href="#"><i class="fa-solid fa-angle-right"></i></a>
        <a href="#"><i class="fa-solid fa-angles-right"></i></a>
      </div>
    </div>

  </div>

  <!-- ========== FOOTER ========== -->
  <footer class="main-footer">
    <div class="footer-top">
      <div class="container">
        <span>Miễn phí giao hàng đơn từ 500k</span>
        <span>Giao hàng hỏa tốc 4 tiếng</span>
        <span>Hệ thống 200 cửa hàng</span>
      </div>
    </div>

    <div class="footer-body">
      <div class="footer-subscribe">
        <div class="logo">
          <a href="../../index.html">
            <img src="../../assets/images/logo.png" alt="LEGO World Store" style="width: 200px;" />
          </a>
        </div>
        <div class="subscribe-box">
          <h4><strong>Tham gia ngay</strong> để nhận thông tin ưu đãi từ LEGO WORLD STORE</h4>
          <form>
            <input type="email" placeholder="Nhập email của bạn" required />
            <button type="submit">Đăng ký</button>
          </form>
          <small class="subscribe-note">*Bạn có thể hủy đăng ký bất kỳ lúc nào!</small>
        </div>
      </div>

      <div class="footer-social">
        <h4>Kết nối với chúng tôi</h4>
        <div class="social-links">
          <a href="#"><i class="fa-brands fa-facebook-f"></i> Facebook</a>
          <a href="#"><i class="fa-brands fa-instagram"></i> Instagram</a>
          <a href="#"><i class="fa-brands fa-youtube"></i> YouTube</a>
          <a href="#"><i class="fa-brands fa-tiktok"></i> TikTok</a>
          <a href="#"><i class="fa-solid fa-comment-dots"></i> Zalo</a>
        </div>
      </div>

      <div class="footer-contact">
        <h4>Thông tin liên hệ</h4>
        <p><i class="fa-solid fa-location-dot"></i> 273 An Dương Vương, Phường 1, Quận 5, TP. HCM</p>
        <p><i class="fa-solid fa-phone"></i> 1900 1208</p>
        <p><i class="fa-solid fa-envelope"></i> hotro@legoworldstore.com.vn</p>
        <p><i class="fa-regular fa-clock"></i> <strong>T2-T7:</strong> 8:00 - 17:00</p>
        <p><i class="fa-regular fa-clock"></i> <strong>CN:</strong> 8:00 - 12:00</p>
      </div>

      <div class="footer-grid">
        <div class="footer-links">
          <h4>Điều khoản & Chính sách</h4>
          <ul>
            <li><a href="#">Chính sách giao hàng</a></li>
            <li><a href="#">Chính sách bảo mật</a></li>
            <li><a href="#">Chính sách bảo hành & đổi trả</a></li>
            <li><a href="#">Điều khoản thành viên</a></li>
            <li><a href="#">Hệ thống cửa hàng</a></li>
          </ul>
        </div>
      </div>
    </div>

    <div class="footer-bottom">
      <div class="container">
        <p>&copy; 2025 LEGO World Store. All rights reserved.</p>
        <p>Công ty cổ phần LEGO - Số ĐKKD: 0309132354</p>
      </div>
    </div>
  </footer>

  <!-- JavaScript -->
  <script>
    // ========== LẤY TỪ KHÓA TỪ URL ==========
    window.addEventListener('DOMContentLoaded', function() {
      const urlParams = new URLSearchParams(window.location.search);
      const keyword = urlParams.get('q');
      
      if (keyword) {
        // Điền vào form
        document.getElementById('keyword').value = keyword;
        
        // Cập nhật kết quả hiển thị
        document.querySelector('.search-keyword').textContent = `"${keyword}"`;
        
        // Tự động scroll xuống kết quả
        setTimeout(() => {
          document.querySelector('.search-result-info').scrollIntoView({ 
            behavior: 'smooth', 
            block: 'start' 
          });
        }, 500);
      }
    });

    // ========== FORM SUBMIT HANDLER ==========
    document.getElementById('searchForm').addEventListener('submit', function(e) {
      e.preventDefault();
      
      // Get form values
      const keyword = document.getElementById('keyword').value;
      const category = document.getElementById('category');
      const categoryText = category.options[category.selectedIndex].text;
      const age = document.getElementById('age').value;
      const priceFrom = document.getElementById('priceFrom').value;
      const priceTo = document.getElementById('priceTo').value;
      const pieces = document.getElementById('pieces');
      const piecesText = pieces.options[pieces.selectedIndex].text;
      const status = document.getElementById('status');
      const statusText = status.options[status.selectedIndex].text;
      
      // Validate keyword
      if (!keyword.trim()) {
        alert('Vui lòng nhập từ khóa tìm kiếm!');
        document.getElementById('keyword').focus();
        return;
      }
      
      // Update result count (random for demo)
      const resultCount = Math.floor(Math.random() * 50) + 10;
      document.querySelector('.result-count').textContent = resultCount;
      document.querySelector('.search-keyword').textContent = `"${keyword}"`;
      
      // Update filter tags
      const filterTags = document.querySelector('.filter-tags');
      filterTags.innerHTML = '';
      
      if (category.value) {
        filterTags.innerHTML += `<span class="tag">${categoryText} <i class="fa-solid fa-xmark"></i></span>`;
      }
      if (status.value) {
        filterTags.innerHTML += `<span class="tag">${statusText} <i class="fa-solid fa-xmark"></i></span>`;
      }
      if (age) {
        filterTags.innerHTML += `<span class="tag">${age}+ <i class="fa-solid fa-xmark"></i></span>`;
      }
      if (priceFrom || priceTo) {
        const priceText = `${priceFrom || '0'}đ - ${priceTo || '∞'}`;
        filterTags.innerHTML += `<span class="tag">${priceText} <i class="fa-solid fa-xmark"></i></span>`;
      }
      
      // Add click event to new tags
      document.querySelectorAll('.filter-tags .tag i').forEach(icon => {
        icon.addEventListener('click', function() {
          this.parentElement.remove();
        });
      });
      
      // Show search animation
      const searchBtn = this.querySelector('.btn-search');
      const originalText = searchBtn.innerHTML;
      searchBtn.innerHTML = '<i class="fa-solid fa-spinner fa-spin"></i> Đang tìm...';
      searchBtn.disabled = true;
      
      // Simulate search
      setTimeout(() => {
        searchBtn.innerHTML = originalText;
        searchBtn.disabled = false;
        
        // Scroll to results
        document.querySelector('.search-result-info').scrollIntoView({ 
          behavior: 'smooth', 
          block: 'start' 
        });
        
        // Show success message
        const message = `✓ Tìm thấy ${resultCount} sản phẩm!\n\nTiêu chí tìm kiếm:\n• Từ khóa: ${keyword}\n• Loại: ${categoryText}\n• Độ tuổi: ${age || 'Tất cả'}\n• Giá: ${priceFrom || '0'}đ - ${priceTo || 'Không giới hạn'}\n• Số mảnh: ${piecesText}\n• Tình trạng: ${statusText}`;
        
        // Optional: Show alert or toast notification
        // alert(message);
      }, 1000);
    });

    // ========== RESET FORM ==========
    document.querySelector('.btn-reset').addEventListener('click', function() {
      document.querySelector('.search-keyword').textContent = '""';
      document.querySelector('.result-count').textContent = '248';
      document.querySelector('.filter-tags').innerHTML = '';
      
      // Scroll to top
      window.scrollTo({ top: 0, behavior: 'smooth' });
    });

    // ========== REMOVE FILTER TAG ==========
    document.querySelectorAll('.filter-tags .tag i').forEach(icon => {
      icon.addEventListener('click', function() {
        this.parentElement.remove();
      });
    });

    // ========== ADD TO CART ANIMATION ==========
    document.querySelectorAll('.btn-add-cart').forEach(button => {
      button.addEventListener('click', function(e) {
        e.preventDefault();
        const originalText = this.innerHTML;
        this.innerHTML = '<i class="fa-solid fa-check"></i> Đã thêm!';
        this.style.background = '#4caf50';
        
        setTimeout(() => {
          this.innerHTML = originalText;
          this.style.background = '';
        }, 2000);
      });
    });
  </script>

  <!-- Footer -->
  <footer>
    <div id="footer"></div>
  </footer>

  <!-- JS import header/footer -->
  <script>
    // Nhúng header
    fetch('../../components/header.html')
      .then(res => res.text())
      .then(data => document.getElementById('header').innerHTML = data);

    // Nhúng footer
    fetch('../../components/footer.html')
      .then(res => res.text())
      .then(data => document.getElementById('footer').innerHTML = data);
  </script>


<!-- JavaScript cho Header Search - Thêm vào cuối file list.html -->
<script>
  document.addEventListener('DOMContentLoaded', function() {
    const searchInput = document.querySelector('.search-bar input');
    const searchButton = document.querySelector('.search-bar button');
    
    if (searchInput && searchButton) {
      // Function search
      function performSearch() {
        const keyword = searchInput.value.trim();
        if (keyword) {
          window.location.href = `search.html?q=${encodeURIComponent(keyword)}`;
        } else {
          alert('⚠️ Vui lòng nhập từ khóa tìm kiếm!');
          searchInput.focus();
        }
      }
      
      // Click button
      searchButton.addEventListener('click', function(e) {
        e.preventDefault();
        performSearch();
      });
      
      // Enter key
      searchInput.addEventListener('keypress', function(e) {
        if (e.key === 'Enter') {
          e.preventDefault();
          performSearch();
        }
      });
      
      // Focus effect
      searchInput.addEventListener('focus', function() {
        this.parentElement.style.boxShadow = '0 0 0 3px rgba(180,63,63,0.2)';
      });
      
      searchInput.addEventListener('blur', function() {
        this.parentElement.style.boxShadow = '';
      });
    }
  });
</script>

</body>
</html>